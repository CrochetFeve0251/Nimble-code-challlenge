  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (18.5ms)[0m  [1mCREATE TABLE "people" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "login" varchar, "password" varchar, "citizen_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (17.6ms)[0m  CREATE TABLE "peoples" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "login" varchar, "password" varchar, "citizen_id" integer) 
  [1m[36m (17.0ms)[0m  [1mCREATE TABLE "student_compagnons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "student_id" integer, "student" integer) [0m
  [1m[35m (16.6ms)[0m  CREATE TABLE "students" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "companion" integer) 
  [1m[36m (18.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (16.6ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (16.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20190201114343')[0m
  [1m[35m (17.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20190201114105')
  [1m[36m (17.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20190201091741')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "studentrails"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "studentrails"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "studentrails"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "studentrails"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "studentrails"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "studentrails"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "studentrails"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:31:16', '2019-02-01 12:31:16', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "studentrails"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:38:07', '2019-02-01 12:38:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:38:07', '2019-02-01 12:38:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (18.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 892ms (Views: 891.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (33.0ms)
  Rendered people/new.html.erb within layouts/application (39.0ms)
Completed 200 OK in 42ms (Views: 41.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (3.3ms)
  Rendered people/edit.html.erb within layouts/application (4.7ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:40:05', '2019-02-01 12:40:05', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:40:05', '2019-02-01 12:40:05', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (16.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 206ms (Views: 205.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (17.5ms)
  Rendered people/edit.html.erb within layouts/application (21.6ms)
Completed 200 OK in 24ms (Views: 23.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.1ms)
  Rendered people/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:40:38', '2019-02-01 12:40:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:40:38', '2019-02-01 12:40:38', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (17.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 216ms (Views: 214.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (18.3ms)
  Rendered people/new.html.erb within layouts/application (22.3ms)
Completed 200 OK in 25ms (Views: 24.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.6ms)
  Rendered people/edit.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:46:37', '2019-02-01 12:46:37', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:46:37', '2019-02-01 12:46:37', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (16.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 204ms (Views: 201.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (21.6ms)
  Rendered people/edit.html.erb within layouts/application (26.3ms)
Completed 200 OK in 30ms (Views: 29.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (3.3ms)
  Rendered people/new.html.erb within layouts/application (4.2ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:52:51', '2019-02-01 12:52:51', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:52:51', '2019-02-01 12:52:51', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (18.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (20.0ms)
  Rendered people/edit.html.erb within layouts/application (26.0ms)
Completed 200 OK in 262ms (Views: 260.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.5ms)
  Rendered people/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:55:04', '2019-02-01 12:55:04', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 12:55:04', '2019-02-01 12:55:04', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (28.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 263ms (Views: 262.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (20.9ms)
  Rendered people/edit.html.erb within layouts/application (25.8ms)
Completed 200 OK in 32ms (Views: 28.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.6ms)
  Rendered people/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:12:04', '2019-02-01 13:12:04', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:12:04', '2019-02-01 13:12:04', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (21.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 214ms (Views: 201.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.1ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (19.5ms)
  Rendered people/edit.html.erb within layouts/application (23.9ms)
Completed 200 OK in 27ms (Views: 26.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.2ms)
  Rendered people/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudent Exists (0.3ms)[0m  SELECT  1 AS one FROM "students" WHERE "students"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:17:07', '2019-02-01 13:17:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:17:07', '2019-02-01 13:17:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (19.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 232ms (Views: 231.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (3.7ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (21.2ms)
  Rendered people/edit.html.erb within layouts/application (27.0ms)
Completed 200 OK in 31ms (Views: 29.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.7ms)
  Rendered people/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudent Exists (0.4ms)[0m  SELECT  1 AS one FROM "students" WHERE "students"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:17:18', '2019-02-01 13:17:18', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:17:18', '2019-02-01 13:17:18', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (18.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (18.8ms)
  Rendered people/new.html.erb within layouts/application (24.2ms)
Completed 200 OK in 223ms (Views: 222.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (2.3ms)
  Rendered people/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudent Exists (0.2ms)[0m  SELECT  1 AS one FROM "students" WHERE "students"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:21:07', '2019-02-01 13:21:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:21:07', '2019-02-01 13:21:07', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (18.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.5ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (30.4ms)
  Rendered people/edit.html.erb within layouts/application (37.8ms)
Completed 200 OK in 317ms (Views: 315.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (3.2ms)
  Rendered people/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:24:39', '2019-02-01 13:24:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:24:39', '2019-02-01 13:24:39', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (17.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 193ms (Views: 190.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (18.2ms)
  Rendered people/new.html.erb within layouts/application (22.2ms)
Completed 200 OK in 25ms (Views: 24.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (2.2ms)
  Rendered people/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudent Exists (0.2ms)[0m  SELECT  1 AS one FROM "students" WHERE "students"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:43:51', '2019-02-01 13:43:51', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:43:51', '2019-02-01 13:43:51', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (14.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.5ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 241ms (Views: 239.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (27.9ms)
  Rendered people/new.html.erb within layouts/application (32.5ms)
Completed 200 OK in 36ms (Views: 35.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (3.1ms)
  Rendered people/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudent Exists (0.4ms)[0m  SELECT  1 AS one FROM "students" WHERE "students"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:54:24', '2019-02-01 13:54:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:54:24', '2019-02-01 13:54:24', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (16.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudent Exists (0.2ms)[0m  SELECT  1 AS one FROM "students" WHERE "students"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (4.6ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (9.1ms)
Completed 200 OK in 248ms (Views: 242.4ms | ActiveRecord: 4.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (16.1ms)
  Rendered people/new.html.erb within layouts/application (20.4ms)
Completed 200 OK in 23ms (Views: 22.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (2.5ms)
  Rendered people/edit.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:54:53', '2019-02-01 13:54:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:54:53', '2019-02-01 13:54:53', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (17.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudent Exists (0.3ms)[0m  SELECT  1 AS one FROM "students" WHERE "students"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (14.5ms)
  Rendered people/new.html.erb within layouts/application (19.7ms)
Completed 200 OK in 221ms (Views: 219.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.5ms)
  Rendered people/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 8ms (Views: 5.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.3ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:56:01', '2019-02-01 13:56:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 13:56:01', '2019-02-01 13:56:01', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (17.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 15ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (20.9ms)
  Rendered people/new.html.erb within layouts/application (26.2ms)
Completed 200 OK in 282ms (Views: 281.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.8ms)
  Rendered people/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudent Exists (0.3ms)[0m  SELECT  1 AS one FROM "students" WHERE "students"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:01:01', '2019-02-01 14:01:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:01:01', '2019-02-01 14:01:01', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (19.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (20.2ms)
  Rendered people/edit.html.erb within layouts/application (26.1ms)
Completed 200 OK in 225ms (Views: 211.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.1ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.1ms)
  Rendered people/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudent Exists (0.2ms)[0m  SELECT  1 AS one FROM "students" WHERE "students"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:02:34', '2019-02-01 14:02:34', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:02:34', '2019-02-01 14:02:34', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (17.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 14ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 208ms (Views: 207.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (19.0ms)
  Rendered people/new.html.erb within layouts/application (23.4ms)
Completed 200 OK in 26ms (Views: 25.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.4ms)
  Rendered people/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudent Exists (0.3ms)[0m  SELECT  1 AS one FROM "students" WHERE "students"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:02:57', '2019-02-01 14:02:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:02:57', '2019-02-01 14:02:57', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (17.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.5ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (18.2ms)
  Rendered people/edit.html.erb within layouts/application (23.5ms)
Completed 200 OK in 221ms (Views: 220.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.4ms)
  Rendered people/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 5ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudent Exists (0.2ms)[0m  SELECT  1 AS one FROM "students" WHERE "students"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:06:35', '2019-02-01 14:06:35', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:06:35', '2019-02-01 14:06:35', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (17.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.5ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 205ms (Views: 204.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (19.1ms)
  Rendered people/new.html.erb within layouts/application (23.9ms)
Completed 200 OK in 27ms (Views: 26.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.6ms)
  Rendered people/edit.html.erb within layouts/application (3.7ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudent Exists (0.2ms)[0m  SELECT  1 AS one FROM "students" WHERE "students"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:08:45', '2019-02-01 14:08:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:08:45', '2019-02-01 14:08:45', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (17.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudent Exists (0.3ms)[0m  SELECT  1 AS one FROM "students" WHERE "students"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.5ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (16.0ms)
  Rendered people/new.html.erb within layouts/application (21.5ms)
Completed 200 OK in 234ms (Views: 233.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (2.7ms)
  Rendered people/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (19.4ms)[0m  [1mCREATE TABLE "people" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "login" varchar, "password" varchar, "citizen_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (19.5ms)[0m  CREATE TABLE "student_compagnons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "student_id" integer, "student" integer) 
  [1m[36m (18.4ms)[0m  [1mCREATE TABLE "students" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "companion" integer) [0m
  [1m[35m (20.7ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (17.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (19.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20190201114343')
  [1m[36m (18.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20190201114105')[0m
  [1m[35m (19.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20190201091741')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:08:57', '2019-02-01 14:08:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:08:57', '2019-02-01 14:08:57', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (17.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (19.9ms)
  Rendered people/new.html.erb within layouts/application (25.2ms)
Completed 200 OK in 227ms (Views: 226.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.4ms)
  Rendered people/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.1ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudent Exists (0.2ms)[0m  SELECT  1 AS one FROM "students" WHERE "students"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:22:25', '2019-02-01 14:22:25', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:22:25', '2019-02-01 14:22:25', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (25.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (15.5ms)
  Rendered people/edit.html.erb within layouts/application (21.0ms)
Completed 200 OK in 233ms (Views: 232.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.4ms)
  Rendered people/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 5ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:24:46', '2019-02-01 14:24:46', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:24:46', '2019-02-01 14:24:46', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (17.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (17.6ms)
  Rendered people/edit.html.erb within layouts/application (22.7ms)
Completed 200 OK in 253ms (Views: 251.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.4ms)
  Rendered people/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:25:24', '2019-02-01 14:25:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:25:24', '2019-02-01 14:25:24', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (16.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 191ms (Views: 187.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'MyString' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (14.4ms)
  Rendered people/edit.html.erb within layouts/application (18.2ms)
Completed 200 OK in 33ms (Views: 20.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.5ms)
  Rendered people/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'MyString' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (2.9ms)
  Rendered people/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (2.2ms)
  Rendered people/edit.html.erb within layouts/application (2.6ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:30:16', '2019-02-01 14:30:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:30:16', '2019-02-01 14:30:16', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (16.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 12ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (18.4ms)
  Rendered people/new.html.erb within layouts/application (23.2ms)
Completed 200 OK in 198ms (Views: 197.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'MyString' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (3.4ms)
  Rendered people/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 17ms (Views: 5.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'MyString' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (3.2ms)
  Rendered people/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 13ms (Views: 6.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (2.3ms)
  Rendered people/edit.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:31:30', '2019-02-01 14:31:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:31:30', '2019-02-01 14:31:30', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (298486374)
  [1m[36m (17.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.4ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'MyString' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (16.1ms)
  Rendered people/new.html.erb within layouts/application (21.6ms)
Completed 200 OK in 306ms (Views: 292.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.6ms)
  Rendered people/edit.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'MyString' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (3.2ms)
  Rendered people/edit.html.erb within layouts/application (3.6ms)
Completed 200 OK in 11ms (Views: 5.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.7ms)
  Rendered people/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:35:26', '2019-02-01 14:35:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:35:26', '2019-02-01 14:35:26', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:35:26', '2019-02-01 14:35:26', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (298486374)[0m
  [1m[35m (19.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 204ms (Views: 203.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (14.1ms)
  Rendered people/new.html.erb within layouts/application (18.1ms)
Completed 200 OK in 21ms (Views: 20.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'MyString' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (4.1ms)
  Rendered people/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 18ms (Views: 6.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (2.9ms)
  Rendered people/edit.html.erb within layouts/application (3.9ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'MyString' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (4.0ms)
  Rendered people/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 12ms (Views: 6.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:37:32', '2019-02-01 14:37:32', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 2, '2019-02-01 14:37:32', '2019-02-01 14:37:32', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 3, '2019-02-01 14:37:32', '2019-02-01 14:37:32', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "students" ("id") VALUES (980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (298486374)[0m
  [1m[35m (23.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.5ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'MyString' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (22.6ms)
  Rendered people/edit.html.erb within layouts/application (29.9ms)
Completed 200 OK in 393ms (Views: 368.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (4.9ms)
  Rendered people/edit.html.erb within layouts/application (6.0ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.3ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'MyString' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (5.8ms)
  Rendered people/new.html.erb within layouts/application (7.3ms)
Completed 200 OK in 19ms (Views: 10.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.6ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (4.0ms)
  Rendered people/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1549032205, '2019-02-01 14:43:25', '2019-02-01 14:43:25', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 2, '2019-02-01 14:43:25', '2019-02-01 14:43:25', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 3, '2019-02-01 14:43:25', '2019-02-01 14:43:25', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (298486374)[0m
  [1m[35m (18.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 223ms (Views: 221.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (21.4ms)
  Rendered people/new.html.erb within layouts/application (26.0ms)
Completed 200 OK in 29ms (Views: 28.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1549032205", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1549032205 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'MyString' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (2.8ms)
  Rendered people/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 23ms (Views: 6.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1549032205", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1549032205 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'MyString' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (3.5ms)
  Rendered people/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 5.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.1ms)
  Rendered people/edit.html.erb within layouts/application (2.4ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:51:27', '2019-02-01 14:51:27', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:51:27', '2019-02-01 14:51:27', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:51:27', '2019-02-01 14:51:27', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (298486374)[0m
  [1m[35m (21.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.5ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 248ms (Views: 236.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'MyString' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (17.4ms)
  Rendered people/edit.html.erb within layouts/application (22.1ms)
Completed 200 OK in 47ms (Views: 24.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.6ms)
  Rendered people/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (3.7ms)
  Rendered people/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'MyString' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (4.1ms)
  Rendered people/new.html.erb within layouts/application (4.7ms)
Completed 200 OK in 12ms (Views: 6.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:52:02', '2019-02-01 14:52:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:52:02', '2019-02-01 14:52:02', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:52:02', '2019-02-01 14:52:02', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (298486374)[0m
  [1m[35m (45.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (20.3ms)
  Rendered people/edit.html.erb within layouts/application (25.7ms)
Completed 200 OK in 242ms (Views: 240.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'MyString' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (3.6ms)
  Rendered people/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 20ms (Views: 6.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'MyString' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (3.0ms)
  Rendered people/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 10ms (Views: 4.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.4ms)
  Rendered people/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.1ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:58:23', '2019-02-01 14:58:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:58:23', '2019-02-01 14:58:23', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 14:58:23', '2019-02-01 14:58:23', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "students" ("id") VALUES (980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (298486374)[0m
  [1m[35m (17.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'MyString' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (16.1ms)
  Rendered people/edit.html.erb within layouts/application (22.5ms)
Completed 200 OK in 259ms (Views: 235.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'MyString' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (3.3ms)
  Rendered people/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 11ms (Views: 6.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.4ms)
  Rendered people/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.4ms)
  Rendered people/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mStudent Load (0.1ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.0ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "student_compagnons" ("student_id") VALUES (?)  [["student_id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:00:30', '2019-02-01 15:00:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:00:30', '2019-02-01 15:00:30', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:00:30', '2019-02-01 15:00:30', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "students" ("id") VALUES (980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (298486374)[0m
  [1m[35m (16.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mStudent Load (0.4ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.2ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Exists (0.2ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mStudent Load (0.2ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "student_compagnons" ("student_id") VALUES (?)  [["student_id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35mStudent Load (0.1ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (14.8ms)
  Rendered people/edit.html.erb within layouts/application (21.0ms)
Completed 200 OK in 257ms (Views: 256.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (4.1ms)
  Rendered people/new.html.erb within layouts/application (5.5ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'MyString' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (4.1ms)
  Rendered people/edit.html.erb within layouts/application (4.7ms)
Completed 200 OK in 14ms (Views: 6.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.1ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'MyString' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (3.0ms)
  Rendered people/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 9ms (Views: 4.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:02:51', '2019-02-01 15:02:51', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:02:51', '2019-02-01 15:02:51', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:02:51', '2019-02-01 15:02:51', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "students" ("id") VALUES (980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (298486374)[0m
  [1m[35m (18.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35mStudent Load (0.4ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mStudent Load (0.1ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'MyString' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (16.5ms)
  Rendered people/edit.html.erb within layouts/application (22.0ms)
Completed 200 OK in 263ms (Views: 229.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (3.1ms)
  Rendered people/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (2.2ms)
  Rendered people/edit.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'MyString' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (3.5ms)
  Rendered people/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 5.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:03:47', '2019-02-01 15:03:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:03:47', '2019-02-01 15:03:47', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:03:47', '2019-02-01 15:03:47', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "students" ("id") VALUES (980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "students" ("id") VALUES (298486374)[0m
  [1m[35m (21.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mStudent Load (0.3ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.2ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id") VALUES (?)[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.0ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mStudent Load (0.0ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 298486374 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "student_compagnons" ("student_id") VALUES (?)  [["student_id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mStudent Load (0.1ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.0ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mStudent Load (0.0ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.0ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 212ms (Views: 211.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (15.7ms)
  Rendered people/edit.html.erb within layouts/application (20.5ms)
Completed 200 OK in 23ms (Views: 22.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.4ms)
  Rendered people/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'MyString' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (3.6ms)
  Rendered people/edit.html.erb within layouts/application (4.5ms)
Completed 200 OK in 13ms (Views: 6.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'MyString' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (3.1ms)
  Rendered people/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 9ms (Views: 5.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "people"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 607264868)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 298486374)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 607264868)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "people"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 298486374)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 607264868)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "people"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 607264868)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 607264868)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "people"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 607264868)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "students"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "people"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 607264868)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "students"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:05:59', '2019-02-01 15:05:59', 607264868)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 607264868)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "people"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 607264868)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "students"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 607264868)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "people"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 298486374)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 607264868)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "students"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "people"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 607264868)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "students"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "people"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 607264868)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "students"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 607264868)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "people"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 298486374)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 607264868)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "students"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:06:36', '2019-02-01 15:06:36', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:09:19', '2019-02-01 15:09:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:09:19', '2019-02-01 15:09:19', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:09:19', '2019-02-01 15:09:19', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "students"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "students" ("id") VALUES (980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "students" ("id") VALUES (298486374)[0m
  [1m[35m (19.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mStudent Load (0.3ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.0ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.0ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mStudent Load (0.0ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "student_compagnons" ("student_id") VALUES (?)  [["student_id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mStudent Load (0.1ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 298486374]]
  [1m[35mStudent Load (0.0ms)[0m  SELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.0ms)[0m  [1mSELECT  "students".* FROM "students" WHERE "students"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 298486374 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id") VALUES (?)[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 298486374 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id") VALUES (?)[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 184ms (Views: 182.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'MyString' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (14.8ms)
  Rendered people/edit.html.erb within layouts/application (19.2ms)
Completed 200 OK in 28ms (Views: 21.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"MyString", "lastname"=>"MyString", "login"=>"MyString", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'MyString' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (3.3ms)
  Rendered people/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 10ms (Views: 6.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.1ms)
  Rendered people/edit.html.erb within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (1.9ms)
  Rendered people/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:21:55', '2019-02-01 15:21:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:21:55', '2019-02-01 15:21:55', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', 'MyString', 'MyString', 1, '2019-02-01 15:21:55', '2019-02-01 15:21:55', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("created_at", "updated_at", "id") VALUES ('2019-02-01 15:21:55', '2019-02-01 15:21:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("created_at", "updated_at", "id") VALUES ('2019-02-01 15:21:55', '2019-02-01 15:21:55', 298486374)[0m
  [1m[35m (17.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (18.6ms)
  Rendered people/new.html.erb within layouts/application (23.6ms)
Completed 200 OK in 222ms (Views: 221.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>nil, "firstname"=>nil, "lastname"=>nil, "login"=>nil, "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (5.9ms)
  Rendered people/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 24ms (Views: 8.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>nil, "firstname"=>nil, "lastname"=>nil, "login"=>nil, "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" IS NULL AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" IS NULL AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (5.4ms)
  Rendered people/edit.html.erb within layouts/application (6.5ms)
Completed 200 OK in 19ms (Views: 9.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.3ms)
  Rendered people/edit.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mStudent Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" IS NULL AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" IS NULL AND "people"."id" != 980190962) LIMIT 1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 298486374 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 298486374]]
  [1m[36mStudent Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" IS NULL AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" IS NULL AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (15.6ms)[0m  [1mCREATE TABLE "people" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "firstname" varchar, "lastname" varchar, "login" varchar, "password" varchar, "citizen_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (14.6ms)[0m  CREATE TABLE "student_compagnons" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "student_id" integer, "students_id" integer) 
  [1m[36m (15.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (14.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.2ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (14.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20190201114343')[0m
  [1m[35m (11.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20190201091741')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:21:46', '2019-02-01 19:21:46', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:21:46', '2019-02-01 19:21:46', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:21:46', '2019-02-01 19:21:46', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (16.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.3ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (4.4ms)
Completed 200 OK in 207ms (Views: 206.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (21.8ms)
  Rendered people/new.html.erb within layouts/application (26.3ms)
Completed 200 OK in 29ms (Views: 28.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (2.7ms)
  Rendered people/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people/980190962
Completed 302 Found in 14ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (3.5ms)
  Rendered people/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 9ms (Views: 5.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:23:02', '2019-02-01 19:23:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:23:02', '2019-02-01 19:23:02', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:23:02', '2019-02-01 19:23:02', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (26.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 246ms (Views: 242.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (15.7ms)
  Rendered people/edit.html.erb within layouts/application (20.3ms)
Completed 200 OK in 23ms (Views: 22.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (4.2ms)
  Rendered people/new.html.erb within layouts/application (5.3ms)
Completed 200 OK in 12ms (Views: 7.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.5ms)
  Rendered people/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:24:56', '2019-02-01 19:24:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:24:56', '2019-02-01 19:24:56', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:24:56', '2019-02-01 19:24:56', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (15.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (15.5ms)
  Rendered people/new.html.erb within layouts/application (20.4ms)
Completed 200 OK in 228ms (Views: 208.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.4ms)
  Rendered people/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 4ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.4ms)
  Rendered people/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.1ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:26:17', '2019-02-01 19:26:17', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:26:17', '2019-02-01 19:26:17', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:26:17', '2019-02-01 19:26:17', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (15.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.2ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.2ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (13.9ms)
  Rendered people/edit.html.erb within layouts/application (19.3ms)
Completed 200 OK in 364ms (Views: 363.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (3.4ms)
  Rendered people/new.html.erb within layouts/application (4.2ms)
Completed 200 OK in 10ms (Views: 6.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (1.9ms)
  Rendered people/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:26:46', '2019-02-01 19:26:46', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:26:46', '2019-02-01 19:26:46', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:26:46', '2019-02-01 19:26:46', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (17.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.2ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 324ms (Views: 322.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (15.6ms)
  Rendered people/edit.html.erb within layouts/application (20.5ms)
Completed 200 OK in 23ms (Views: 22.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (4.7ms)
  Rendered people/new.html.erb within layouts/application (5.5ms)
Completed 200 OK in 12ms (Views: 8.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.7ms)
  Rendered people/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:28:39', '2019-02-01 19:28:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:28:39', '2019-02-01 19:28:39', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:28:39', '2019-02-01 19:28:39', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (12.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.2ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 339ms (Views: 338.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (13.4ms)
  Rendered people/new.html.erb within layouts/application (17.2ms)
Completed 200 OK in 20ms (Views: 19.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (3.3ms)
  Rendered people/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 9ms (Views: 4.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (1.9ms)
  Rendered people/edit.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:29:01', '2019-02-01 19:29:01', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:29:01', '2019-02-01 19:29:01', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:29:01', '2019-02-01 19:29:01', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (13.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (20.0ms)
  Rendered people/new.html.erb within layouts/application (25.4ms)
Completed 200 OK in 247ms (Views: 245.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (3.9ms)
  Rendered people/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 20ms (Views: 6.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.7ms)
  Rendered people/edit.html.erb within layouts/application (3.7ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.3ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.3ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.2ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:29:19', '2019-02-01 19:29:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:29:19', '2019-02-01 19:29:19', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:29:19', '2019-02-01 19:29:19', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (14.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (17.7ms)
  Rendered people/new.html.erb within layouts/application (22.3ms)
Completed 200 OK in 198ms (Views: 197.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (3.3ms)
  Rendered people/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 17ms (Views: 5.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.1ms)
  Rendered people/edit.html.erb within layouts/application (3.1ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.1ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:29:30', '2019-02-01 19:29:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:29:30', '2019-02-01 19:29:30', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:29:30', '2019-02-01 19:29:30', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (17.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.5ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 209ms (Views: 208.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (18.3ms)
  Rendered people/new.html.erb within layouts/application (22.3ms)
Completed 200 OK in 25ms (Views: 24.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (3.5ms)
  Rendered people/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 17ms (Views: 5.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.3ms)
  Rendered people/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:29:53', '2019-02-01 19:29:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:29:53', '2019-02-01 19:29:53', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:29:53', '2019-02-01 19:29:53', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (16.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.5ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (19.4ms)
  Rendered people/edit.html.erb within layouts/application (24.8ms)
Completed 200 OK in 227ms (Views: 223.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people/980190962
Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (3.8ms)
  Rendered people/new.html.erb within layouts/application (4.8ms)
Completed 200 OK in 11ms (Views: 6.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.1ms)
  Rendered people/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudent Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 0]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:30:37', '2019-02-01 19:30:37', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:30:37', '2019-02-01 19:30:37', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:30:37', '2019-02-01 19:30:37', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (13.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.2ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 0]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 341ms (Views: 339.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.1ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (14.5ms)
  Rendered people/new.html.erb within layouts/application (18.7ms)
Completed 200 OK in 24ms (Views: 20.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (2.1ms)
  Rendered people/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (1.9ms)
  Rendered people/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 3ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:31:26', '2019-02-01 19:31:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:31:26', '2019-02-01 19:31:26', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:31:26', '2019-02-01 19:31:26', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (14.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (21.3ms)
  Rendered people/edit.html.erb within layouts/application (27.5ms)
Completed 200 OK in 243ms (Views: 238.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (4.2ms)
  Rendered people/new.html.erb within layouts/application (5.2ms)
Completed 200 OK in 23ms (Views: 7.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.4ms)
  Rendered people/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.3ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:32:20', '2019-02-01 19:32:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:32:20', '2019-02-01 19:32:20', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:32:20', '2019-02-01 19:32:20', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (16.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.2ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 305ms (Views: 304.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (12.9ms)
  Rendered people/edit.html.erb within layouts/application (16.7ms)
Completed 200 OK in 19ms (Views: 18.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (3.3ms)
  Rendered people/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 10ms (Views: 5.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (1.8ms)
  Rendered people/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:32:33', '2019-02-01 19:32:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:32:33', '2019-02-01 19:32:33', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:32:33', '2019-02-01 19:32:33', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.2ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 372ms (Views: 371.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (15.9ms)
  Rendered people/edit.html.erb within layouts/application (20.4ms)
Completed 200 OK in 23ms (Views: 22.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.3ms)
  Rendered people/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (3.5ms)
  Rendered people/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 5.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:32:51', '2019-02-01 19:32:51', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:32:51', '2019-02-01 19:32:51', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:32:51', '2019-02-01 19:32:51', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (15.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 201ms (Views: 200.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (16.9ms)
  Rendered people/new.html.erb within layouts/application (21.6ms)
Completed 200 OK in 46ms (Views: 24.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.4ms)
  Rendered people/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 4ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.7ms)
  Rendered people/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:33:32', '2019-02-01 19:33:32', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:33:32', '2019-02-01 19:33:32', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:33:32', '2019-02-01 19:33:32', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (17.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people/980190962
Completed 302 Found in 20ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (19.0ms)
  Rendered people/edit.html.erb within layouts/application (24.6ms)
Completed 200 OK in 228ms (Views: 227.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (4.2ms)
  Rendered people/new.html.erb within layouts/application (5.1ms)
Completed 200 OK in 13ms (Views: 7.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.8ms)
  Rendered people/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.3ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (2.0ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:38:49', '2019-02-01 19:38:49', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:38:49', '2019-02-01 19:38:49', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:38:49', '2019-02-01 19:38:49', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (14.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.3ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 200ms (Views: 198.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (13.6ms)
  Rendered people/new.html.erb within layouts/application (17.5ms)
Completed 200 OK in 20ms (Views: 19.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (3.4ms)
  Rendered people/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 9ms (Views: 5.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.1ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.3ms)
  Rendered people/edit.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:42:50', '2019-02-01 19:42:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:42:50', '2019-02-01 19:42:50', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:42:50', '2019-02-01 19:42:50', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (16.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (3.0ms)
Completed 200 OK in 192ms (Views: 188.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (18.9ms)
  Rendered people/edit.html.erb within layouts/application (23.4ms)
Completed 200 OK in 26ms (Views: 25.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 13ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.1ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.2ms)
  Rendered people/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (3.2ms)
  Rendered people/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 8ms (Views: 4.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:43:11', '2019-02-01 19:43:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:43:11', '2019-02-01 19:43:11', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:43:11', '2019-02-01 19:43:11', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (16.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.3ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.2ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 201ms (Views: 199.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (15.0ms)
  Rendered people/new.html.erb within layouts/application (19.2ms)
Completed 200 OK in 26ms (Views: 21.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (2.3ms)
  Rendered people/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.0ms)
  Rendered people/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:46:06', '2019-02-01 19:46:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:46:06', '2019-02-01 19:46:06', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:46:06', '2019-02-01 19:46:06', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (18.7ms)
  Rendered people/new.html.erb within layouts/application (23.6ms)
Completed 200 OK in 209ms (Views: 208.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.4ms)
  Rendered people/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 14ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.1ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (3.3ms)
  Rendered people/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 9ms (Views: 5.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:46:30', '2019-02-01 19:46:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:46:30', '2019-02-01 19:46:30', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:46:30', '2019-02-01 19:46:30', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (14.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.2ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 356ms (Views: 355.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (14.5ms)
  Rendered people/edit.html.erb within layouts/application (18.7ms)
Completed 200 OK in 22ms (Views: 20.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.2ms)
  Rendered people/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (3.3ms)
  Rendered people/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 9ms (Views: 5.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:48:04', '2019-02-01 19:48:04', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:48:04', '2019-02-01 19:48:04', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:48:04', '2019-02-01 19:48:04', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (15.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.2ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (13.2ms)
  Rendered people/edit.html.erb within layouts/application (18.2ms)
Completed 200 OK in 337ms (Views: 335.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (3.5ms)
  Rendered people/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 11ms (Views: 6.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.1ms)
  Rendered people/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:48:59', '2019-02-01 19:48:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:48:59', '2019-02-01 19:48:59', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:48:59', '2019-02-01 19:48:59', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (26.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.6ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (22.4ms)
  Rendered people/edit.html.erb within layouts/application (28.4ms)
Completed 200 OK in 230ms (Views: 228.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.4ms)
  Rendered people/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people/980190962
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (3.7ms)
  Rendered people/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:51:24', '2019-02-01 19:51:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:51:24', '2019-02-01 19:51:24', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:51:24', '2019-02-01 19:51:24', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (14.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (21.3ms)
  Rendered people/edit.html.erb within layouts/application (27.1ms)
Completed 200 OK in 243ms (Views: 239.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (4.2ms)
  Rendered people/new.html.erb within layouts/application (5.2ms)
Completed 200 OK in 21ms (Views: 7.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.2ms)
  Rendered people/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 4ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:52:18', '2019-02-01 19:52:18', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:52:18', '2019-02-01 19:52:18', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:52:18', '2019-02-01 19:52:18', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (16.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.5ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.3ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.2ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 19:52:18.492675"], ["updated_at", "2019-02-01 19:52:18.492675"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id") VALUES (?)  [["student_id", 980190963]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 19:52:18.506790"], ["updated_at", "2019-02-01 19:52:18.506790"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id") VALUES (?)[0m  [["student_id", 980190963]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 392ms (Views: 390.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (16.5ms)
  Rendered people/edit.html.erb within layouts/application (21.3ms)
Completed 200 OK in 24ms (Views: 23.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (3.9ms)
  Rendered people/new.html.erb within layouts/application (5.0ms)
Completed 200 OK in 12ms (Views: 7.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.3ms)
  Rendered people/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:54:20', '2019-02-01 19:54:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:54:20', '2019-02-01 19:54:20', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:54:20', '2019-02-01 19:54:20', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (15.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (15.2ms)
  Rendered people/new.html.erb within layouts/application (20.4ms)
Completed 200 OK in 233ms (Views: 213.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people/980190962
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (2.5ms)
  Rendered people/edit.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.0ms)
  Rendered people/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.2ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 19:54:20.483377"], ["updated_at", "2019-02-01 19:54:20.483377"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id") VALUES (?)  [["student_id", 980190963]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 19:54:20.512460"], ["updated_at", "2019-02-01 19:54:20.512460"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id") VALUES (?)  [["student_id", 980190963]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:55:45', '2019-02-01 19:55:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:55:45', '2019-02-01 19:55:45', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:55:45', '2019-02-01 19:55:45', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (11.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_create_person
-----------------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered people/_form.html.erb (15.4ms)
  Rendered people/new.html.erb within layouts/application (20.6ms)
Completed 200 OK in 388ms (Views: 359.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.5ms)
  Rendered people/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 8ms (Views: 5.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.0ms)
  Rendered people/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 19:55:46.138404"], ["updated_at", "2019-02-01 19:55:46.138404"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id") VALUES (?)[0m  [["student_id", 980190963]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 19:55:46.152274"], ["updated_at", "2019-02-01 19:55:46.152274"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id") VALUES (?)  [["student_id", 980190963]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:56:23', '2019-02-01 19:56:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:56:23', '2019-02-01 19:56:23', 298486374)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:56:23', '2019-02-01 19:56:23', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (17.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.3ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 19:56:23.396973"], ["updated_at", "2019-02-01 19:56:23.396973"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id") VALUES (?)[0m  [["student_id", 980190963]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 19:56:23.415325"], ["updated_at", "2019-02-01 19:56:23.415325"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id") VALUES (?)[0m  [["student_id", 980190963]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people/980190962
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 351ms (Views: 350.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.0ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (15.4ms)
  Rendered people/edit.html.erb within layouts/application (19.7ms)
Completed 200 OK in 23ms (Views: 22.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.2ms)
  Rendered people/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:57:10', '2019-02-01 19:57:10', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:57:10', '2019-02-01 19:57:10', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:57:10', '2019-02-01 19:57:10', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (15.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (20.1ms)
  Rendered people/new.html.erb within layouts/application (25.4ms)
Completed 200 OK in 224ms (Views: 223.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.2ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (2.5ms)
  Rendered people/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 19:57:10.497912"], ["updated_at", "2019-02-01 19:57:10.497912"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id") VALUES (?)[0m  [["student_id", 980190963]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 19:57:10.533755"], ["updated_at", "2019-02-01 19:57:10.533755"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id") VALUES (?)[0m  [["student_id", 980190963]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:57:55', '2019-02-01 19:57:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:57:55', '2019-02-01 19:57:55', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:57:55', '2019-02-01 19:57:55', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (15.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35mPerson Load (0.4ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.2ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.2ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 19:57:55.953312"], ["updated_at", "2019-02-01 19:57:55.953312"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id") VALUES (?)  [["student_id", 980190963]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 19:57:55.968492"], ["updated_at", "2019-02-01 19:57:55.968492"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id") VALUES (?)[0m  [["student_id", 980190963]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 327ms (Views: 325.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.1ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (14.5ms)
  Rendered people/new.html.erb within layouts/application (18.4ms)
Completed 200 OK in 24ms (Views: 20.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (2.1ms)
  Rendered people/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (1.9ms)
  Rendered people/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 19:58:18', '2019-02-01 19:58:18', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 19:58:18', '2019-02-01 19:58:18', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 19:58:18', '2019-02-01 19:58:18', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (15.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people/980190962
Completed 302 Found in 19ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/_form.html.erb (16.5ms)
  Rendered people/edit.html.erb within layouts/application (21.6ms)
Completed 200 OK in 203ms (Views: 202.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[35mPerson Load (0.1ms)[0m  SELECT "people".* FROM "people"
  Rendered people/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (3.5ms)
  Rendered people/new.html.erb within layouts/application (4.2ms)
Completed 200 OK in 10ms (Views: 6.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (2.3ms)
  Rendered people/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 19:58:19.019708"], ["updated_at", "2019-02-01 19:58:19.019708"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id") VALUES (?)  [["student_id", 980190963]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 19:58:19.057488"], ["updated_at", "2019-02-01 19:58:19.057488"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id") VALUES (?)  [["student_id", 980190963]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "people"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('John', 'McCain', 'john.mccain', 'john.mccain1', 1, '2019-02-01 20:01:19', '2019-02-01 20:01:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('Bob', 'Lenon', 'bob.lenon', 'bob.lenon2', 2, '2019-02-01 20:01:19', '2019-02-01 20:01:19', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "login", "password", "citizen_id", "created_at", "updated_at", "id") VALUES ('chayaporn', 'tanmak', 'chayaporn.tanma3k', 'chayaporn.tanmak', 3, '2019-02-01 20:01:19', '2019-02-01 20:01:19', 607264868)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "student_compagnons"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id", "id") VALUES (1, 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id", "id") VALUES (2, 298486374)[0m
  [1m[35m (15.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
PeopleControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mPerson Load (0.3ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#index as HTML
  [1m[36mPerson Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  Rendered people/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 235ms (Views: 233.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
PeopleControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mPerson Load (0.2ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#new as HTML
  Rendered people/_form.html.erb (22.7ms)
  Rendered people/new.html.erb within layouts/application (27.6ms)
Completed 200 OK in 30ms (Views: 29.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
PeopleControllerTest: test_should_update_person
-----------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#update as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.2ms)[0m  SELECT  1 AS one FROM "people" WHERE ("people"."citizen_id" = 1 AND "people"."id" != 980190962) LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE ("people"."login" = 'john.mccain' AND "people"."id" != 980190962) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/people/980190962
Completed 302 Found in 17ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------
PeopleControllerTest: test_shouldn't_create_person
--------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
Processing by PeopleController#create as HTML
  Parameters: {"person"=>{"citizen_id"=>"1", "firstname"=>"John", "lastname"=>"McCain", "login"=>"john.mccain", "password"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered people/_form.html.erb (4.1ms)
  Rendered people/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 10ms (Views: 6.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
PeopleControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PeopleController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered people/_form.html.erb (2.5ms)
  Rendered people/edit.html.erb within layouts/application (3.5ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
PeopleControllerTest: test_should_destroy_person
------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "people"[0m
Processing by PeopleController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/people
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "people"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
PeopleControllerTest: test_should_show_person
---------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PeopleController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mPerson Load (0.0ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered people/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
StudentTest: test_should_be_able_to_recreate_the_same_after_deleting
--------------------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.2ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.2ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 20:01:20.347076"], ["updated_at", "2019-02-01 20:01:20.347076"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id") VALUES (?)  [["student_id", 980190963]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190963]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 20:01:20.352727"], ["updated_at", "2019-02-01 20:01:20.352727"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id") VALUES (?)  [["student_id", 980190964]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
StudentTest: test_should_not_save_student_without_attributes
------------------------------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" IS NULL LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
StudentTest: test_should_save_student
-------------------------------------
  [1m[35mPerson Load (0.1ms)[0m  SELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudent Load (0.1ms)[0m  SELECT "people".* FROM "people"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 298486374]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 607264868]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 607264868]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1  [["student_id", 980190962]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "people" WHERE "people"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT "student_compagnons".* FROM "student_compagnons"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 298486374]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 20:01:20.380798"], ["updated_at", "2019-02-01 20:01:20.380798"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "student_compagnons" ("student_id") VALUES (?)[0m  [["student_id", 980190963]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_a_student_id_already_defined
--------------------------------------------------------------------------
  [1m[36mPerson Load (0.3ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.1ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "people" ("firstname", "lastname", "citizen_id", "login", "password", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["firstname", "John"], ["lastname", "McCain"], ["citizen_id", 1], ["login", "john.mccain"], ["password", "john.mccain1"], ["created_at", "2019-02-01 20:01:20.394604"], ["updated_at", "2019-02-01 20:01:20.394604"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "student_compagnons" ("student_id") VALUES (?)  [["student_id", 980190963]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1
  [1m[36mStudentCompagnon Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------
StudentTest: test_shouldn't_save_student_with_student_id
--------------------------------------------------------
  [1m[36mPerson Load (0.1ms)[0m  [1mSELECT  "people".* FROM "people" WHERE "people"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35mStudentCompagnon Load (0.0ms)[0m  SELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36mStudent Load (0.1ms)[0m  [1mSELECT "people".* FROM "people"[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 298486374]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 298486374]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 607264868]]
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 607264868]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStudentCompagnon Load (0.0ms)[0m  [1mSELECT  "student_compagnons".* FROM "student_compagnons" WHERE "student_compagnons"."student_id" = ? LIMIT 1[0m  [["student_id", 980190962]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "people" WHERE "people"."id" = ?  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStudentCompagnon Load (0.1ms)[0m  SELECT "student_compagnons".* FROM "student_compagnons"
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?  [["id", 298486374]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "student_compagnons" WHERE "student_compagnons"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mPerson Exists (0.1ms)[0m  SELECT  1 AS one FROM "people" WHERE "people"."citizen_id" = 1 LIMIT 1
  [1m[36mPerson Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "people" WHERE "people"."login" = 'john.mccain' LIMIT 1[0m
  [1m[35mStudentCompagnon Exists (0.1ms)[0m  SELECT  1 AS one FROM "student_compagnons" WHERE "student_compagnons"."student_id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
